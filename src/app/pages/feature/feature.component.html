<div class="row">
    <div class="col-sm-9" style="padding-bottom: 10px;;">
        <a name="top"></a>
        <span class="breadcrumbs">
 
            <a routerLink="/">home</a> &gt;
            <a routerLink="../">feature list</a> &gt;
            {{featureName.toLocaleLowerCase()}}
        </span>
    </div>
</div>

<div class="row">
    <div class="col-sm-10">
        <h1>{{featureName}}</h1>
    </div>
    <div class="col-sm-2">

    </div>
</div>


<form [formGroup]="form" (ngSubmit)="onSubmit()">


<div class="card" data-bs-theme="">
    <div class="card-header">


        <!-- Three-dot dropdown using NgbDropdown -->
        <div ngbDropdown class="d-inline-block" style="float: right; ">
            <button class="btn  border-0 p-1" style="font-size: 20px;" ngbDropdownToggle>
                &#x22EE; <!-- Unicode vertical ellipsis: â‹® -->
            </button>

            <ul ngbDropdownMenu style="cursor: pointer">
                @if(form.controls.status.value == 'Inactive'){
                <li style="background-color: rgb(3, 41, 99);color:white;" ngbDropdownItem (click)="onSetActive()">
                    Reset to Active</li>
                }@else {
                <li style="background-color: gray;color:white;" ngbDropdownItem (click)="onSetInactive()">Set to
                    Inactive</li>
                }

                <li style="background-color: red;color:white;" ngbDropdownItem (click)="onDelete()">Delete
                </li>
            </ul>
        </div>
        <button style="float: right;margin-right:20px" type="button" class="btn btn-primary"
            (click)="btnSave()">Save</button>

        <h3 class="card-title">Details</h3>
    </div>
    <div class="card-body">

     
            <div class="row">
                <div class="col-sm-3">
                    <label for="name">Code</label>
                    <input type="text" class="form-control" id="name" formControlName="code">
                </div>
                <div class="col-sm-9">
                    <label for="address">Name</label>
                    <input type="text" class="form-control" id="address" formControlName="featureName">
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                     <label for="exampleFormControlTextarea1" class="form-label">Description</label>
                        <textarea class="form-control" formControlName="description" rows="3"></textarea>
                </div>
            </div>
    </div>
</div>

<br>


<div class="card" data-bs-theme="" style="display: none;">
    <div class="card-header">


       
        <button style="float: right;margin-right:20px" type="button" class="btn btn-primary"
            (click)="btnSave()">New Template</button>

        <h3 class="card-title">Feature Templates</h3>
    </div>
    <div class="card-body">
        <table class="table table-striped">
            <thead>
                <th>Select</th>
                <th>&nbsp;Name </th>
                <th>Description</th>
                <th>Steps</th>
                <th>Version</th>
                <th>&nbsp;</th>
            </thead>
            <tbody>
                @for (item of templates; track $index) {
                    <tr style="cursor: pointer;" >
                        <td><input type=checkbox></td>
                        
                        <td>{{item.templateName}}</td>
                        <td>{{item.description}}</td>
                        <td>{{item.steps}}</td>
                        <td>{{item.version}}</td>
                         <td><button class="btn btn-secondary btn-sm" (click)="goto(item)">Edit</button> </td>
                    </tr>
                }
            </tbody>
        </table>
      
    </div>
</div>


<br>

<div class="card" data-bs-theme="">
    <div class="card-header">


       
        <button style="float: right;margin-right:20px" type="button" class="btn btn-primary"
            (click)="btnSave()">New Test</button>

        <h3 class="card-title">Tests</h3>
    </div>
    <div class="card-body">
        <table class="table table-striped">
            <thead>
                <th>Select&nbsp;</th>
                <th>Name </th>
                <th>Description</th>
                <th>Steps</th>
                <th>Status</th>
                <th>&nbsp;</th>
            </thead>
            <tbody>
                @for (item of (tests$ | async); track $index) {
                    <tr>
                          <td><input type=checkbox></td>
                        <td>{{item.testName}}</td>
                        <td>{{item.description}}</td>
                        <td>{{item.stepCount}}</td>
                        <td>{{item.status}}</td>
                        <td><button class="btn btn-secondary btn-sm" (click)="goto(item)">Edit</button> </td>
                    </tr>
                }
            </tbody>
        </table>
      
    </div>
</div>




</form>